<section class="section" id="gallery">
  <h2>Gallery</h2>
  <div id="map-container" style="position: relative; max-width: 100%; height: auto;">
    <!-- 世界地图 SVG -->
    <svg id="world-map" viewBox="0 0 1000 500" style="width: 100%; height: auto;">
      <!-- 简化美观的世界轮廓 -->
      <rect width="1000" height="500" fill="#eef2f7"/>
      <path d="M..." fill="#c0c0c0"/> <!-- 这里可以替换为完整世界地图SVG路径 -->
      
      <!-- 城市标记 -->
      <text class="city-star" x="500" y="200" data-city="北京" data-image="beijing.jpg">✨</text>
      <text class="city-star" x="520" y="220" data-city="上海" data-image="shanghai.jpg">✨</text>
      <text class="city-star" x="480" y="180" data-city="银川" data-image="yinchuan.jpg">✨</text>
      <text class="city-star" x="100" y="250" data-city="洛杉矶" data-image="losangeles.jpg">✨</text>
      <text class="city-star" x="730" y="180" data-city="首尔" data-image="seoul.jpg">✨</text>
      <text class="city-star" x="770" y="200" data-city="东京" data-image="tokyo.jpg">✨</text>
    </svg>

    <!-- 弹窗 -->
    <div id="popup" style="position: absolute; display: none; background: rgba(255,255,255,0.95); border: 1px solid #ccc; padding: 10px; border-radius: 8px; z-index: 10;">
      <span id="popup-close" style="cursor:pointer; float:right;">✖</span>
      <h3 id="popup-title"></h3>
      <img id="popup-image" src="" alt="" style="max-width:300px; max-height:300px; display:block; margin-top:10px; border-radius:6px;">
    </div>
  </div>
</section>

<style>
  .city-star {
    font-size: 24px;
    fill: #a480ff; /* 紫色 */
    cursor: pointer;
  }
</style>

<script>
  const stars = document.querySelectorAll('.city-star');
  const popup = document.getElementById('popup');
  const popupTitle = document.getElementById('popup-title');
  const popupImage = document.getElementById('popup-image');
  const popupClose = document.getElementById('popup-close');
  const mapContainer = document.getElementById('map-container');

  stars.forEach(star => {
    star.addEventListener('click', e => {
      const city = star.getAttribute('data-city');
      const img = star.getAttribute('data-image');
      popupTitle.innerText = city;
      popupImage.src = img;
      
      // 弹窗位置在星星附近
      const rect = star.getBoundingClientRect();
      const containerRect = mapContainer.getBoundingClientRect();
      popup.style.left = (rect.left - containerRect.left + 20) + 'px';
      popup.style.top = (rect.top - containerRect.top - 10) + 'px';
      popup.style.display = 'block';
    });
  });

  popupClose.addEventListener('click', () => {
    popup.style.display = 'none';
  });
</script>
